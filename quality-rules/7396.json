{
    "id": 7396,
    "type": "quality-rule",
    "name": "Subprograms called multiple times should be called statically",
    "href": "quality-rules/7396.json",
    "associatedValueName": "Number of calls",
    "description": "This rule searches for Cobol programs calling dynamically multiple times the same subprogram.\n\nThe number of times the same subprogram is called is set to 10.",
    "output": "Associated to each COBOL Program with violations, the Quality Rule provides:\n- The number of calls\n- Bookmarks for violation patterns found in source code:\n  - \"CALL <variable_name>\" statements referencing the same subprogram",
    "rationale": "Because a statically called program is link-edited into the same load module as the calling program, a static call is faster than a dynamic call. A static call is the preferred method if your application does not require the services of the dynamic call.",
    "reference": "IBM Enterprise Cobol - Programming Guide",
    "remediation": "If a subprogram is dynamically called multiple times, then replace the dynamic calls by static calls as much as possible.",
    "remediationSample": "IDENTIFICATION DIVISION.\n       PROGRAM-ID. PROG01.\n      *----------\n       ENVIRONMENT DIVISION.\n       CONFIGURATION SECTION.\n       SPECIAL-NAMES.\n           DECIMAL-POINT IS COMMA.\n      *----------\n       DATA DIVISION.\n       WORKING-STORAGE SECTION.\n       01 SPGM    PIC X(8) VALUE \"SUBPGM01\".\n       01 RET-DAT PIC 9(4) VALUE 0.\n      *----------\n       LINKAGE SECTION.\n       01 PARAM.\n           05 PARAM-F1 PIC X(10).\n           05 PARAM-F2 PIC 99.\n           05 PARAM-F3 PIC 9(3).\n      *----------\n       PROCEDURE DIVISION\n       MAIN-PARAGRAPH.\n           PERFORM PAR-1.\n           PERFORM PAR-2.\n           PERFORM PAR-3.\n           PERFORM PAR-4.\n           PERFORM PAR-5.\n           STOP RUN.\n       PAR-1.\n           MOVE \"NAME\" TO PARAM-F1\n           MOVE 50 TO PARAM-F2.\n           CALL \"SUBPGM01\" USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n       PAR-2.\n           MOVE \"GRADE\" TO PARAM-F1\n           MOVE 10 TO PARAM-F2.\n           CALL \"SUBPGM01\" USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n           MOVE \"QRY\" TO PARAM-F1\n           MOVE 11 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n       PAR-3.\n           MOVE \"DEPT\" TO PARAM-F1\n           MOVE 30 TO PARAM-F2.\n           CALL \"SUBPGM01\" USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n           MOVE \"QRY\" TO PARAM-F1\n           MOVE 31 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n       PAR-4.\n           MOVE SPACES TO PARAM-F1\n           MOVE 99 TO PARAM-F2.\n           CALL \"SUBPGM01\" USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n       PAR-5.\n           DISPLAY \"RET=\" RET-DATA.\n           MOVE 0 TO PARAM-F2.",
    "sample": "IDENTIFICATION DIVISION.\n       PROGRAM-ID. PROG01.\n      *----------\n       ENVIRONMENT DIVISION.\n       CONFIGURATION SECTION.\n       SPECIAL-NAMES.\n           DECIMAL-POINT IS COMMA.\n      *----------\n       DATA DIVISION.\n       WORKING-STORAGE SECTION.\n       01 SPGM    PIC X(8) VALUE \"SUBPGM01\".\n       01 RET-DAT PIC 9(4) VALUE 0.\n      *----------\n       LINKAGE SECTION.\n       01 PARAM.\n           05 PARAM-F1 PIC X(10).\n           05 PARAM-F2 PIC 99.\n           05 PARAM-F3 PIC 9(3).\n      *----------\n       PROCEDURE DIVISION\n       MAIN-PARAGRAPH.\n           PERFORM PAR-1.\n           PERFORM PAR-2.\n           PERFORM PAR-3.\n           PERFORM PAR-4.\n           PERFORM PAR-5.\n           STOP RUN.\n       PAR-1.\n           MOVE \"NAME\" TO PARAM-F1\n           MOVE 50 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n       PAR-2.\n           MOVE \"GRADE\" TO PARAM-F1\n           MOVE 10 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n           MOVE \"QRY\" TO PARAM-F1\n           MOVE 11 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n       PAR-3.\n           MOVE \"DEPT\" TO PARAM-F1\n           MOVE 30 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n           MOVE \"QRY\" TO PARAM-F1\n           MOVE 31 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n       PAR-4.\n           MOVE SPACES TO PARAM-F1\n           MOVE 99 TO PARAM-F2.\n           CALL SPGM USING PARAM.\n           ADD PARAM-F3 TO RET-DAT.\n           CANCEL SPGM.\n       PAR-5.\n           DISPLAY \"RET=\" RET-DATA.\n           MOVE 0 TO PARAM-F2.",
    "total": "Number of Cobol Programs",
    "businessCriteria": [
        
    ],
    "technologies": [
        {
            "id": -4,
            "name": "Cobol",
            "href": "technologies/-4.json"
        }
    ]
}
