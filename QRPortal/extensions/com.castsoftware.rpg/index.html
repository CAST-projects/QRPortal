<html>
<title></title>

<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="qualityrules.js"></script>

<link rel="stylesheet" type="text/css" href="../../dynamic/css/qualityrules.css" media="only screen"/>
<script type="text/javascript" src="../../dynamic/js/qualityrulesbuilder.js"></script>

</head>

<body>



<script>

$(document).ready(function(){
	
   // jQuery methods go here...

	document.title = qualityrules.technologyname + " Quality Rules";
	
	qualityrulesbuilder.technologyuri = qualityrules.technologyuri;
	
	qualityrulesbuilder.printBody();
	qualityrulesbuilder.setupFields();

	/*$('.details').hide();
	

	

	$('.summary').click(function(){
		
		var row_id = $(this).attr("id");
				
		if(SPECDocumentation=='')
		{
			loadSPECDocumentation();
			SPECDocumentationXMLDoc = parser.parseFromString(SPECDocumentation,"text/xml");
			
			parser = new DOMParser();
			
			var docnodes = SPECDocumentationXMLDoc.evaluate('/root/metric', SPECDocumentationXMLDoc, null, XPathResult.ANY_TYPE, null);
		    var docresult = docnodes.iterateNext();

			while (docresult) {

				var docrow_id = docresult.getAttribute('id');

				if(docrow_id!='')
				{
					var section = docresult.getAttribute('section');
					
					if(section != "name")
					{
						var content = docresult.childNodes[1].textContent;
						
						if(content.indexOf("%0D%0A") > -1)  
						{
							//Windows encodes returns as \r\n hex  
							content = content.replace("%0D%0A","<br>");  
						}  
						else if(content.indexOf("%0A") > -1)  
						{   
							//Unix encodes returns as \n hex  
							content = content.replace("%0A","<br>");  
			  			}
						else if(content.indexOf("%0D") > -1)  
						{
							//Macintosh encodes returns as \r hex  
							content = content.replace("%0D","<br>");  
			  			}
						else if(content.indexOf("\\r\\n") > -1)  
						{
							content = content.replace("\\r\\n","<br>");  
			  			}
						else if(content.indexOf("\n") > -1)  
						{
							content = content.replace("\n","<br>");  
			  			}
			
			// TODO needs to sort out the sections
			
						section = section.substring(0,1).toUpperCase()+section.substring(1);
						

						var htmlcontent = $('#'+docrow_id+'-details').find('td:first').html();
						htmlcontent += '<h3>'+section+'</h3><p>'+content+'</p>';

						$('#'+docrow_id+'-details').find('td:first').html(htmlcontent);
					}
				}

				docresult = docnodes.iterateNext();
			}
		}
		
		$("#"+row_id).find('td').toggleClass("highlighted");
		$("#"+row_id+"-details").toggle("fast").toggleClass("highlighted");
	});
	
	loadSPECContributors();
	SPECContributorsXMLDoc = parser.parseFromString(SPECContributors,"text/xml");

	parser = new DOMParser();
	
	var specnodes = SPECContributorsXMLDoc.evaluate('/root/metric', SPECContributorsXMLDoc, null, XPathResult.ANY_TYPE, null);
    var specresult = specnodes.iterateNext();
    
	while (specresult) {

		var row_id = specresult.getAttribute('id');
		var contr_row_id = specresult.getAttribute('contributorId');
		var critical = specresult.getAttribute('critical');
		var healthstatus = [];

		if(row_id!='')
		{
			//console.log("is secured "+securitylist.indexOf(row_id)+' with id:'+contr_row_id);
			//console.log("is efficient "+efficiencylist.indexOf(row_id)+' with id:'+contr_row_id);
			//console.log("is transferable "+transferabilitylist.indexOf(row_id)+' with id:'+contr_row_id);
			
			
			if(securitylist.indexOf(row_id)!='-1')
			{
				healthstatus.push('Security');
			}
			
			if(efficiencylist.indexOf(row_id)!='-1')
			{
				healthstatus.push('Efficiency');
			}
			
			if(transferabilitylist.indexOf(row_id)!='-1')
			{
				healthstatus.push('Transferability');
			}

			if(changeabilitylist.indexOf(row_id)!='-1')
			{
				healthstatus.push('Changeability');
			}
			
			if(robustnesslist.indexOf(row_id)!='-1')
			{
				healthstatus.push('Robustness');
			}
			
			//txt += '<tr id="'+ row_id +'" class="summary"><td>'+row_id+'</td><td>'+result.getAttribute('originalName') + '</td><td>X</td><td>X</td><td>X</td></tr>';
			//txt += '<tr id="'+ row_id +'-details" class="details"><td>Loading...</td></tr>';
			
			var alltds = $("#"+specresult.getAttribute('contributorId')).find("td");
			
			alltds[2].innerText = healthstatus.join(', ');
			//console.log(alltds[3].innerHtml);
			
			if(critical==='true')
			{
				$(alltds[3]).html('<span class="greencheck">&#10004;</span>');
			}
			else
			{
				$(alltds[3]).html('');
			}
			
		}
	 
		specresult = specnodes.iterateNext();
	}*/

});

</script>


</body>
</html>
